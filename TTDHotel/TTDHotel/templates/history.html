{% extends 'layout/base.html' %}

{% block title %}Danh sách phòng đã đặt{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-4 text-primary">Danh sách phòng đã đặt</h1>
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead class="table-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Khách hàng</th>
                    <th scope="col">Số điện thoại</th>
                    <th scope="col">Phòng</th>
                    <th scope="col">Ngày nhận</th>
                    <th scope="col">Ngày trả</th>
                    <th scope="col">Loại khách hàng</th>
                    <th scope="col">Thao tác</th>
                </tr>
            </thead>
            <tbody>
                {% for booking in bookings %}
                <tr>
                    <th scope="row">{{ loop.index }}</th>
                    <td>{{ booking.customer.name }}</td>
                    <td>{{ booking.customer.phone }}</td>
                    <td>{{ booking.room.name }}</td>
                    <td>{{ booking.check_in_date.strftime('%d-%m-%Y') }}</td>
                    <td>{{ booking.check_out_date.strftime('%d-%m-%Y') }}</td>
                    <td>
                        {% if booking.customer_type == 1 %}
                        Nội địa
                        {% else %}
                        Ngoại địa
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ url_for('cancel_booking', booking_id=booking.id) }}"
                           class="btn btn-danger btn-sm">Hủy</a>
                        <a href="{{ url_for('booking_detail', booking_id=booking.id) }}"
                           class="btn btn-info btn-sm">Chi tiết</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
    body {
        background: #f8f9fa;
    }
    h1 {
        font-size: 2.5rem;
        font-weight: bold;
    }
    .table th, .table td {
        text-align: center;
        vertical-align: middle;
    }
</style>

{% block scripts %}
<script>
    // JavaScript nếu cần xử lý thao tác trên giao diện
    console.log("Danh sách phòng đã đặt.");
</script>
{% endblock %}
{% endblock %}
